var q=Object.defineProperty;var z=(a,e,r)=>e in a?q(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r;var l=(a,e,r)=>(z(a,typeof e!="symbol"?e+"":e,r),r);import{p as W,a as X,d as Z,j as Q,s as K,n as ee,b as ae,c as re,k as te,e as L,f as se,g as D,h as ne,i as de,l as I,m as ce,o as ie,u as oe,q as x,r as M,t as J,v as fe,w as be,x as ue,y as he,z as le}from"./verify-fc83026a.js";import{A as ze}from"./verify-fc83026a.js";import{u as P,a as m,o as $,b as w,c as F,d as O,k as _e,s as pe,e as G,f as S,i as me,g as A,h as E,j as ye,l as ge}from"./index-23d70d30.js";import"@polkadot/x-globalThis";const we=[W,X],Ee={name:"@polkadot/keyring",path:import.meta&&import.meta.url?new URL(import.meta.url).pathname.substring(0,new URL(import.meta.url).pathname.lastIndexOf("/")+1):"auto",type:"esm",version:"12.6.2"};Z(Ee,null,we);const p=new Uint8Array([161,35,3,33,0]),U=new Uint8Array([48,83,2,1,1,48,5,6,3,43,101,112,4,34,4,32]),ke=32,R=64,Pe=32,y=U.length;function Se(a,e,r){const t=Array.isArray(r)||r===void 0?r:[r],n=Q(e,a,t),c=n.subarray(0,U.length);if(!P(c,U))throw new Error("Invalid Pkcs8 header found in body");let b=n.subarray(y,y+R),d=y+R,i=n.subarray(d,d+p.length);if(!P(i,p)&&(d=y+Pe,b=n.subarray(y,d),i=n.subarray(d,d+p.length),!P(i,p)))throw new Error("Invalid Pkcs8 divider found in body");const f=d+p.length;return{publicKey:n.subarray(f,f+ke),secretKey:b}}function Ae({publicKey:a,secretKey:e},r){if(!e)throw new Error("Expected a valid secretKey to be passed to encode");const t=m(U,e,p,a);if(!r)return t;const{params:n,password:c,salt:b}=K(r),{encrypted:d,nonce:i}=ee(t,c.subarray(0,32));return m(ae(b,n),i,d)}function xe(a,{address:e,meta:r},t,n){return $(re(t,["pkcs8",a],n),{address:e,meta:r})}const Ue=new Uint8Array,ve={ecdsa:x,ed25519:M,ethereum:x,sr25519:J},C={ecdsa:new Uint8Array([2]),ed25519:new Uint8Array([0]),ethereum:new Uint8Array([2]),sr25519:new Uint8Array([1])},V={ecdsa:(a,e)=>I(a,e,"blake2"),ed25519:ce,ethereum:(a,e)=>I(a,e,"keccak"),sr25519:ie},k={ecdsa:a=>a.length>32?O(a):a,ed25519:a=>a,ethereum:a=>a.length===20?a:_e(pe(a)),sr25519:a=>a};function g(a){return!a||oe(a)}function j(a,e,r){return O(m(e||"",r||"",a))}function _({toSS58:a,type:e},{publicKey:r,secretKey:t},n={},c=null,b){const d=(s,o)=>{const u=Se(s,o||c,b);if(u.secretKey.length===64)r=u.publicKey,t=u.secretKey;else{const h=ve[e](u.secretKey);r=h.publicKey,t=h.secretKey}},i=s=>(g(t)&&c&&d(s,c),c=Ae({publicKey:r,secretKey:t},s),b=void 0,c),f=()=>{const s=k[e](r);return e==="ethereum"?G(s):a(s)};return{get address(){return f()},get addressRaw(){const s=k[e](r);return e==="ethereum"?s.slice(-20):s},get isLocked(){return g(t)},get meta(){return n},get publicKey(){return r},get type(){return e},decodePkcs8:d,derive:(s,o)=>{if(e==="ethereum")throw new Error("Unable to derive on this keypair");if(g(t))throw new Error("Cannot derive on a locked keypair");const{path:u}=te(s),h=L({publicKey:r,secretKey:t},u,e);return _({toSS58:a,type:e},h,o,null)},encodePkcs8:s=>i(s),lock:()=>{t=new Uint8Array},setMeta:s=>{n=$({},n,s)},sign:(s,o={})=>{if(g(t))throw new Error("Cannot sign with a locked key pair");return m(o.withType?C[e]:Ue,V[e](w(s),{publicKey:r,secretKey:t}))},toJson:s=>{const o=["ecdsa","ethereum"].includes(e)?r.length===20?F(r):F(se(r)):f();return xe(e,{address:o,meta:n},i(s),!!s)},unlock:s=>d(s),verify:(s,o,u)=>D(s,o,k[e](w(u))).isValid,vrfSign:(s,o,u)=>{if(g(t))throw new Error("Cannot sign with a locked key pair");if(e==="sr25519")return ne(s,{secretKey:t},o,u);const h=V[e](w(s),{publicKey:r,secretKey:t});return m(j(h,o,u),h)},vrfVerify:(s,o,u,h,T)=>e==="sr25519"?de(s,o,r,h,T):D(s,m(C[e],o.subarray(32)),k[e](w(u))).isValid&&P(o.subarray(0,32),j(o.subarray(32),h,T))}}const Fe="bottom drive obey lake curtain smoke basket hold race lonely fit walk",Ne="0xfac7959dbfe72f052e5a0c3c8d6530f202b02fd8f9f5ca3580ec8deb7797479e";class Te{constructor(){l(this,"__internal__map",{})}add(e){return this.__internal__map[S(e.address).toString()]=e,e}all(){return Object.values(this.__internal__map)}get(e){const r=this.__internal__map[S(e).toString()];if(!r)throw new Error(`Unable to retrieve keypair '${me(e)||A(e)?F(w(e)):e}'`);return r}remove(e){delete this.__internal__map[S(e).toString()]}}const v={ecdsa:a=>x(a),ed25519:a=>M(a),ethereum:a=>x(a),sr25519:a=>J(a)};function De({publicKey:a}){return a}class Ie{constructor(e={}){l(this,"__internal__pairs");l(this,"__internal__type");l(this,"__internal__ss58");l(this,"decodeAddress",S);l(this,"encodeAddress",(e,r)=>this.type==="ethereum"?G(e):ge(e,r??this.__internal__ss58));if(e.type=e.type||"ed25519",!["ecdsa","ethereum","ed25519","sr25519"].includes(e.type||"undefined"))throw new Error(`Expected a keyring type of either 'ed25519', 'sr25519', 'ethereum' or 'ecdsa', found '${e.type||"unknown"}`);this.__internal__pairs=new Te,this.__internal__ss58=e.ss58Format,this.__internal__type=e.type}get pairs(){return this.getPairs()}get publicKeys(){return this.getPublicKeys()}get type(){return this.__internal__type}addPair(e){return this.__internal__pairs.add(e)}addFromAddress(e,r={},t=null,n=this.type,c,b){const d=this.decodeAddress(e,c);return this.addPair(_({toSS58:this.encodeAddress,type:n},{publicKey:d,secretKey:new Uint8Array},r,t,b))}addFromJson(e,r){return this.addPair(this.createFromJson(e,r))}addFromMnemonic(e,r={},t=this.type){return this.addFromUri(e,r,t)}addFromPair(e,r={},t=this.type){return this.addPair(this.createFromPair(e,r,t))}addFromSeed(e,r={},t=this.type){return this.addPair(_({toSS58:this.encodeAddress,type:t},v[t](e),r,null))}addFromUri(e,r={},t=this.type){return this.addPair(this.createFromUri(e,r,t))}createFromJson({address:e,encoded:r,encoding:{content:t,type:n,version:c},meta:b},d){if(c==="3"&&t[0]!=="pkcs8")throw new Error(`Unable to decode non-pkcs8 type, [${t.join(",")}] found}`);const i=c==="0"||!Array.isArray(t)?this.type:t[1],f=Array.isArray(n)?n:[n];if(!["ed25519","sr25519","ecdsa","ethereum"].includes(i))throw new Error(`Unknown crypto type ${i}`);const s=A(e)?E(e):this.decodeAddress(e,d),o=A(r)?E(r):fe(r);return _({toSS58:this.encodeAddress,type:i},{publicKey:s,secretKey:new Uint8Array},b,o,f)}createFromPair(e,r={},t=this.type){return _({toSS58:this.encodeAddress,type:t},e,r,null)}createFromUri(e,r={},t=this.type){const n=e.startsWith("//")?`${Fe}${e}`:e,{derivePath:c,password:b,path:d,phrase:i}=be(n);let f;const s=A(i,256);if(s)f=E(i);else{const u=i.split(" ");if([12,15,18,21,24].includes(u.length))f=t==="ethereum"?ue(i,"",!1,64):he(i,b);else{if(i.length>32)throw new Error("specified phrase is not a valid mnemonic and is invalid as a raw seed at > 32 bytes");f=ye(i.padEnd(32))}}const o=t==="ethereum"?s?v[t](f):le(f,c.substring(1)):L(v[t](f),d,t);return _({toSS58:this.encodeAddress,type:t},o,r,null)}getPair(e){return this.__internal__pairs.get(e)}getPairs(){return this.__internal__pairs.all()}getPublicKeys(){return this.__internal__pairs.all().map(De)}removePair(e){this.__internal__pairs.remove(e)}setSS58Format(e){this.__internal__ss58=e}toJson(e,r){return this.__internal__pairs.get(e).toJson(r)}}const Re=[{p:"0xd43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d",s:"0x98319d4ff8a9508c4bb0cf0b5a78d760a0b2082c02775e6e82370816fedfff48925a225d97aa00682d6a59b95b18780c10d7032336e88f3442b42361f4a66011",seed:"Alice",type:"sr25519"},{p:"0xbe5ddb1579b72e84524fc29e78609e3caf42e85aa118ebfe0b0ad404b5bdd25f",s:"0xe8da6c9d810e020f5e3c7f5af2dea314cbeaa0d72bc6421e92c0808a0c584a6046ab28e97c3ffc77fe12b5a4d37e8cd4afbfebbf2391ffc7cb07c0f38c023efd",seed:"Alice//stash",type:"sr25519"},{p:"0x8eaf04151687736326c9fea17e25fc5287613693c912909cb226aa4794f26a48",s:"0x081ff694633e255136bdb456c20a5fc8fed21f8b964c11bb17ff534ce80ebd5941ae88f85d0c1bfc37be41c904e1dfc01de8c8067b0d6d5df25dd1ac0894a325",seed:"Bob",type:"sr25519"},{p:"0xfe65717dad0447d715f660a0a58411de509b42e6efb8375f562f58a554d5860e",s:"0xc006507cdfc267a21532394c49ca9b754ca71de21e15a1cdf807c7ceab6d0b6c3ed408d9d35311540dcd54931933e67cf1ea10d46f75408f82b789d9bd212fde",seed:"Bob//stash",type:"sr25519"},{p:"0x90b5ab205c6974c9ea841be688864633dc9ca8a357843eeacf2314649965fe22",s:"0xa8f2d83016052e5d6d77b2f6fd5d59418922a09024cda701b3c34369ec43a7668faf12ff39cd4e5d92bb773972f41a7a5279ebc2ed92264bed8f47d344f8f18c",seed:"Charlie",type:"sr25519"},{p:"0x306721211d5404bd9da88e0204360a1a9ab8b87c66c1bc2fcdd37f3c2222cc20",s:"0x20e05482ca4677e0edbc58ae9a3a59f6ed3b1a9484ba17e64d6fe8688b2b7b5d108c4487b9323b98b11fe36cb301b084e920f7b7895536809a6d62a451b25568",seed:"Dave",type:"sr25519"},{p:"0xe659a7a1628cdd93febc04a4e0646ea20e9f5f0ce097d9a05290d4a9e054df4e",s:"0x683576abfd5dc35273e4264c23095a1bf21c14517bece57c7f0cc5c0ed4ce06a3dbf386b7828f348abe15d76973a72009e6ef86a5c91db2990cb36bb657c6587",seed:"Eve",type:"sr25519"},{p:"0x1cbd2d43530a44705ad088af313e18f80b53ef16b36177cd4b77b846f2a5f07c",s:"0xb835c20f450079cf4f513900ae9faf8df06ad86c681884122c752a4b2bf74d4303e4f21bc6cc62bb4eeed5a9cce642c25e2d2ac1464093b50f6196d78e3a7426",seed:"Ferdie",type:"sr25519"}],Ce=[{name:"Alith",p:"0x02509540919faacf9ab52146c9aa40db68172d83777250b28e4679176e49ccdd9f",s:"0x5fb92d6e98884f76de468fa3f6278f8807c48bebc13595d45af5bdc4da702133",type:"ethereum"},{name:"Baltathar",p:"0x033bc19e36ff1673910575b6727a974a9abd80c9a875d41ab3e2648dbfb9e4b518",s:"0x8075991ce870b93a8870eca0c0f91913d12f47948ca0fd25b49c6fa7cdbeee8b",type:"ethereum"},{name:"Charleth",p:"0x0234637bdc0e89b5d46543bcbf8edff329d2702bc995e27e9af4b1ba009a3c2a5e",s:"0x0b6e18cafb6ed99687ec547bd28139cafdd2bffe70e6b688025de6b445aa5c5b",type:"ethereum"},{name:"Dorothy",p:"0x02a00d60b2b408c2a14c5d70cdd2c205db8985ef737a7e55ad20ea32cc9e7c417c",s:"0x39539ab1876910bbf3a223d84a29e28f1cb4e2e456503e7e91ed39b2e7223d68",type:"ethereum"},{name:"Ethan",p:"0x025cdc005b752651cd3f728fb9192182acb3a9c89e19072cbd5b03f3ee1f1b3ffa",s:"0x7dce9bc8babb68fec1409be38c8e1a52650206a7ed90ff956ae8a6d15eeaaef4",type:"ethereum"},{name:"Faith",p:"0x037964b6c9d546da4646ada28a99e34acaa1d14e7aba861a9055f9bd200c8abf74",s:"0xb9d2ea9a615f3165812e8d44de0d24da9bbd164b65c4f0573e1ce2c8dbd9c8df",type:"ethereum"}];function Ve(a,e){if(!a&&!e)throw new Error("Testing pair should have either a name or a seed");return{isTesting:!0,name:a||(e==null?void 0:e.replace("//","_").toLowerCase())}}function je(a={},e=!0){const r=new Ie(a),t=a.type==="ethereum"?Ce:Re;for(const{name:n,p:c,s:b,seed:d,type:i}of t){const f=Ve(n,d),s=!e&&!n&&d?r.addFromUri(d,f,a.type):r.addPair(_({toSS58:r.encodeAddress,type:i},{publicKey:E(c),secretKey:E(b)},f));s.lock=()=>{}}return r}const H=new Uint8Array(32),N="5C4hrfjw9DjXZTzV3MwzrrAr9P1MJhSrvWGWqi1eSuyUpnhM",Y={isTesting:!0,name:"nobody"},He={address:N,encoded:"",encoding:{content:["pkcs8","ed25519"],type:"none",version:"0"},meta:Y},B={address:N,addressRaw:H,decodePkcs8:(a,e)=>{},derive:(a,e)=>B,encodePkcs8:a=>new Uint8Array(0),isLocked:!0,lock:()=>{},meta:Y,publicKey:H,setMeta:a=>{},sign:a=>new Uint8Array(64),toJson:a=>He,type:"ed25519",unlock:a=>{},verify:(a,e)=>!1,vrfSign:(a,e,r)=>new Uint8Array(96),vrfVerify:(a,e,r,t)=>!1};function Le(){return B}function Ye(a,e=!0){const t=je(a,e).getPairs(),n={nobody:Le()};for(const c of t)c.meta.name&&(n[c.meta.name]=c);return n}export{Fe as DEV_PHRASE,Ne as DEV_SEED,Ie as Keyring,_ as createPair,je as createTestKeyring,Ye as createTestPairs,S as decodeAddress,Ie as default,ge as encodeAddress,Ee as packageInfo,ze as setSS58Format};
//# sourceMappingURL=index-4ae20804.js.map
